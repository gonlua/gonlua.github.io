<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://gonlua.github.io</id>
    <title>gonlua&apos;s blog</title>
    <updated>2020-09-21T00:32:17.199Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://gonlua.github.io"/>
    <link rel="self" href="https://gonlua.github.io/atom.xml"/>
    <subtitle>ã‚´ãƒ³ãƒ«ã‚¢ã®ãƒ–ãƒ­ã‚°</subtitle>
    <logo>https://gonlua.github.io/images/avatar.png</logo>
    <icon>https://gonlua.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, gonlua&apos;s blog</rights>
    <entry>
        <title type="html"><![CDATA[Androidæ¨¡æ‹Ÿå™¨ä¿®æ”¹host]]></title>
        <id>https://gonlua.github.io/post/android-mo-ni-qi-xiu-gai-host/</id>
        <link href="https://gonlua.github.io/post/android-mo-ni-qi-xiu-gai-host/">
        </link>
        <updated>2020-07-17T01:27:36.000Z</updated>
        <content type="html"><![CDATA[<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<ul>
<li>rootè·å–rootæƒé™
<ul>
<li>adb root</li>
</ul>
</li>
<li>é‡æ–°æŒ‚è½½
<ul>
<li>adb remount</li>
</ul>
</li>
<li>æŠŠhostsæ–‡ä»¶æ‹‰å‡ºæ¥
<ul>
<li>adb pull /system/etc/hosts hosts</li>
</ul>
</li>
<li>ä¿®æ”¹hostsæ–‡ä»¶</li>
<li>æŠŠhostsæ–‡ä»¶pushå›å»
<ul>
<li>adb push hosts /system/etc/hosts</li>
</ul>
</li>
</ul>
<p>æˆ‘åˆ°äº†è¿™ä¸€æ­¥æç¤º(Androidç‰ˆæœ¬æ˜¯7.1.1)<br>
<code>adb: error: failed to copy 'hosts' to '/system/etc/hosts': couldn't create file: Read-only file system</code></p>
<p>è§£å†³æ–¹æ³•(æˆ‘çš„adbç‰ˆæœ¬ï¼š1.0.36)ï¼š</p>
<ul>
<li>adb push hosts /system/etc/hosts</li>
<li>adb root</li>
<li>adb shell</li>
<li>mount</li>
<li>exit</li>
<li>adb disable-verity</li>
<li>adb reboot</li>
<li>adb root</li>
<li>adb remount</li>
</ul>
<p>ç°åœ¨å°±å¯ä»¥è¿›è¡Œå†™æ“ä½œäº†</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[create-react-app é˜»æ­¢buildæ‰“åŒ…service-worker]]></title>
        <id>https://gonlua.github.io/post/create-react-app-zu-zhi-build-da-bao-service-worker/</id>
        <link href="https://gonlua.github.io/post/create-react-app-zu-zhi-build-da-bao-service-worker/">
        </link>
        <updated>2020-07-13T02:55:42.000Z</updated>
        <content type="html"><![CDATA[<p>å³ä½¿æ²¡æœ‰ä½¿ç”¨service-workerï¼Œbuildæ—¶ä»ç„¶ä¼šå°†å…¶æ‰“åŒ…ã€‚<br>
å¦‚æœä¸æƒ³æ‰“åŒ…ï¼Œå¯ä»¥å»webpack.config.jsé‡Œæ³¨é‡Šæ‰ç›¸å…³ä»£ç ã€‚<br>
ä½ç½®ï¼šnode_modules\react-scripts\config\webpack.config.js</p>
<p>å°†è¿™ä¸€æ®µæ³¨é‡Šæ‰ï¼š</p>
<pre><code class="language-js">isEnvProduction &amp;&amp;
    new WorkboxWebpackPlugin.GenerateSW({
        clientsClaim: true,
        exclude: [/\.map$/, /asset-manifest\.json$/],
        importWorkboxFrom: 'cdn',
        navigateFallback: paths.publicUrlOrPath + 'index.html',
        navigateFallbackBlacklist: [
        // Exclude URLs starting with /_, as they're likely an API call
        new RegExp('^/_'),
        // Exclude any URLs whose last part seems to be a file extension
        // as they're likely a resource and not a SPA route.
        // URLs containing a &quot;?&quot; character won't be blacklisted as they're likely
        // a route with query params (e.g. auth callbacks).
        new RegExp('/[^/?]+\\.[^/]+$'),
        ],
    }),
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Content Security Policy]]></title>
        <id>https://gonlua.github.io/post/content-security-policy/</id>
        <link href="https://gonlua.github.io/post/content-security-policy/">
        </link>
        <updated>2020-07-13T01:30:36.000Z</updated>
        <content type="html"><![CDATA[<p>â€œç½‘é¡µå®‰å…¨æ”¿ç­–â€CSPå¯ä»¥æœ‰æ•ˆé˜²æ­¢XSS(Cross Site Scriping)æ”»å‡»ã€‚<br>
å†…ç½‘çš„ç½‘ç«™å¯ä»¥åˆ©ç”¨å®ƒé˜²æ­¢æŸäº›æ’ä»¶é“¾æ¥åˆ°å¤–éƒ¨ã€‚</p>
<p>ä½¿ç”¨æ–¹æ³•å¾ˆç®€å•ï¼Œåœ¨htmlåŠ å…¥metaæ ‡ç­¾ï¼Œä¾‹å­ï¼š<br>
<code>&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src 'self'; object-src 'none'; style-src cdn.example.org third-party.org;&quot;&gt;</code></p>
<p>å¯ä»¥é™åˆ¶çš„èµ„æºç±»å‹ï¼š</p>
<ul>
<li>script-srcï¼šå¤–éƒ¨è„šæœ¬</li>
<li>style-srcï¼šæ ·å¼è¡¨</li>
<li>img-srcï¼šå›¾åƒ</li>
<li>media-srcï¼šåª’ä½“æ–‡ä»¶ï¼ˆéŸ³é¢‘å’Œè§†é¢‘ï¼‰</li>
<li>font-srcï¼šå­—ä½“æ–‡ä»¶</li>
<li>object-srcï¼šæ’ä»¶ï¼ˆæ¯”å¦‚ Flashï¼‰</li>
<li>child-srcï¼šæ¡†æ¶</li>
<li>frame-ancestorsï¼šåµŒå…¥çš„å¤–éƒ¨èµ„æºï¼ˆæ¯”å¦‚&lt;frame&gt;ã€&lt;iframe&gt;ã€&lt;embed&gt;å’Œ&lt;applet&gt;ï¼‰</li>
<li>connect-srcï¼šHTTP è¿æ¥ï¼ˆé€šè¿‡ XHRã€WebSocketsã€EventSourceç­‰ï¼‰</li>
<li>worker-srcï¼šworkerè„šæœ¬</li>
<li>manifest-srcï¼šmanifest æ–‡ä»¶<br>
<br/></li>
<li>default-srcï¼š é»˜è®¤è§„åˆ™</li>
<li>'unsafe-inline': å…è®¸æ‰§è¡Œé¡µé¢å†…åµŒçš„æ ‡ç­¾å’Œäº‹ä»¶ç›‘å¬å‡½æ•°</li>
</ul>
<p>è§„åˆ™é»˜è®¤åªå¯¹ftpå’Œhttps(s)æœ‰æ•ˆï¼Œå¦‚æœè¦å…è®¸Websocketï¼Œè¦åŠ å…¥&quot;ws:&quot;<br>
<code>&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src 'self' data: gap: ws: ssl.gstatic.com 'unsafe-inline';&quot;&gt;</code><br>
<br/><br>
å…¼å®¹æ€§ï¼š<br>
<img src="https://gonlua.github.io/post-images/1594606274392.png" alt="" loading="lazy"></p>
<p>å‚è€ƒæ–‡ç« ï¼š<br>
<a href="https://content-security-policy.com/">Content Security Policy Reference</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[SpringBootç”¨Actuatorçš„shutdownä¸èƒ½å…³é—­è¿›ç¨‹çš„è§£å†³æ–¹æ³•]]></title>
        <id>https://gonlua.github.io/post/springboot-yong-actuator-de-shutdown-ming-ling-bu-neng-guan-bi-jin-cheng-jie-jue/</id>
        <link href="https://gonlua.github.io/post/springboot-yong-actuator-de-shutdown-ming-ling-bu-neng-guan-bi-jin-cheng-jie-jue/">
        </link>
        <updated>2020-07-10T09:45:34.000Z</updated>
        <content type="html"><![CDATA[<p>å¦‚æœä½¿ç”¨äº†schedulerï¼ˆæˆ‘ç”¨çš„æ˜¯quartzï¼‰ï¼Œä¼šé˜»æ­¢è¿›ç¨‹å…³é—­ã€‚</p>
<p>è§£å†³æ–¹æ³•æ˜¯åœ¨Beané”€æ¯å‰åœæ‰scheduler:</p>
<pre><code class="language-java">@PreDestroy
public void preDestroy() {
    if (scheduler!=null) {
        try {
            scheduler.shutdown();
        } catch (SchedulerException e) {
            e.printStackTrace();
        }
    }
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Reactæ‰“åŒ…war]]></title>
        <id>https://gonlua.github.io/post/react-da-bao-war/</id>
        <link href="https://gonlua.github.io/post/react-da-bao-war/">
        </link>
        <updated>2020-07-10T00:09:54.000Z</updated>
        <content type="html"><![CDATA[<p>å‚è€ƒæ–‡ç« ï¼š<br>
<a href="https://www.megadix.it/blog/create-react-app-servlet/">Deploy React Applications in a Servlet Environment</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[SpringBootå…¼å®¹java 6]]></title>
        <id>https://gonlua.github.io/post/springboot-jian-rong-java-6/</id>
        <link href="https://gonlua.github.io/post/springboot-jian-rong-java-6/">
        </link>
        <updated>2020-07-09T08:32:06.000Z</updated>
        <content type="html"><![CDATA[<ol>
<li>é™ä½SpringBootç‰ˆæœ¬ï¼Œæˆ‘ç”¨çš„æ˜¯1.5.3.RELEASE</li>
</ol>
<pre><code class="language-xml">&lt;parent&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
    &lt;version&gt;1.5.3.RELEASE&lt;/version&gt;
    &lt;relativePath /&gt;
&lt;/parent&gt;
......
&lt;properties&gt;
    &lt;java.version&gt;1.6&lt;/java.version&gt;
&lt;/properties&gt;
</code></pre>
<ol start="2">
<li>ä½¿ç”¨å…¼å®¹çš„å†…å®¹webæœåŠ¡å™¨: tomcat 7.0.59</li>
</ol>
<pre><code class="language-xml">&lt;properties&gt;
    &lt;tomcat.version&gt;7.0.59&lt;/tomcat.version&gt;
&lt;/properties&gt;
......
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;
    &lt;artifactId&gt;tomcat-juli&lt;/artifactId&gt;
    &lt;version&gt;${tomcat.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<ol start="3">
<li>å®‰è£…æ”¯æŒjava 6çš„maven(æœ€åä¸€ä¸ªç‰ˆæœ¬æ˜¯3.2.5)å¹¶é…ç½®</li>
</ol>
<pre><code class="language-xml">&lt;properties&gt;
    &lt;maven.compiler.source&gt;1.6&lt;/maven.compiler.source&gt;
    &lt;maven.compiler.target&gt;1.6&lt;/maven.compiler.target&gt;
&lt;/properties&gt;
......
&lt;project&gt;
    ......
    &lt;build&gt;
		&lt;finalName&gt;XXX&lt;/finalName&gt;
		&lt;plugins&gt;
			&lt;plugin&gt;
				&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
				&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
				&lt;configuration&gt;
					&lt;source&gt;${maven.compiler.source}&lt;/source&gt;
					&lt;target&gt;${maven.compiler.target}&lt;/target&gt;
				&lt;/configuration&gt;
			&lt;/plugin&gt;
		&lt;/plugins&gt;
	&lt;/build&gt;
&lt;/project&gt;
</code></pre>
<ol start="4">
<li>å¦‚æœç”¨åˆ°mybatis</li>
</ol>
<pre><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;
    &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;
    &lt;version&gt;1.1.1&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<ol start="5">
<li>å¦‚æœç”¨åˆ°JWT</li>
</ol>
<pre><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;
    &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;
    &lt;classifier&gt;jdk16&lt;/classifier&gt;
    &lt;version&gt;4.11.2&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<ol start="6">
<li>é™ä½Jacksonç‰ˆæœ¬åˆ°2.6.Xï¼Œæˆ‘ç”¨çš„æ˜¯2.6.3</li>
</ol>
<pre><code class="language-xml">&lt;properties&gt;
    &lt;jackson.version&gt;2.6.7&lt;/jackson.version&gt;
&lt;/properties&gt;
......
&lt;project&gt;
    ......
	&lt;dependencyManagement&gt;
		&lt;dependencies&gt;
			&lt;dependency&gt;
				&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
				&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;
				&lt;version&gt;${jackson.version}&lt;/version&gt;
			&lt;/dependency&gt;
			&lt;dependency&gt;
				&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
				&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;
				&lt;version&gt;${jackson.version}&lt;/version&gt;
			&lt;/dependency&gt;
			&lt;dependency&gt;
				&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
				&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;
				&lt;version&gt;${jackson.version}&lt;/version&gt;
			&lt;/dependency&gt;
			&lt;dependency&gt;
				&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;
				&lt;artifactId&gt;jackson-dataformat-csv&lt;/artifactId&gt;
				&lt;version&gt;${jackson.version}&lt;/version&gt;
			&lt;/dependency&gt;
			&lt;dependency&gt;
				&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;
				&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;
				&lt;version&gt;${jackson.version}&lt;/version&gt;
			&lt;/dependency&gt;
			&lt;dependency&gt;
				&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;
				&lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;
				&lt;version&gt;${jackson.version}&lt;/version&gt;
			&lt;/dependency&gt;
			&lt;dependency&gt;
				&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;
				&lt;artifactId&gt;jackson-datatype-hibernate4&lt;/artifactId&gt;
				&lt;version&gt;${jackson.version}&lt;/version&gt;
			&lt;/dependency&gt;
			&lt;dependency&gt;
				&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;
				&lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;
				&lt;version&gt;${jackson.version}&lt;/version&gt;
			&lt;/dependency&gt;
			&lt;dependency&gt;
				&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;
				&lt;artifactId&gt;jackson-datatype-jdk7&lt;/artifactId&gt;
				&lt;version&gt;${jackson.version}&lt;/version&gt;
			&lt;/dependency&gt;
			&lt;dependency&gt;
				&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;
				&lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;
				&lt;version&gt;${jackson.version}&lt;/version&gt;
			&lt;/dependency&gt;
			&lt;dependency&gt;
				&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;
				&lt;artifactId&gt;jackson-datatype-joda&lt;/artifactId&gt;
				&lt;version&gt;${jackson.version}&lt;/version&gt;
			&lt;/dependency&gt;
			&lt;dependency&gt;
				&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;
				&lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;
				&lt;version&gt;${jackson.version}&lt;/version&gt;
			&lt;/dependency&gt;
			&lt;dependency&gt;
				&lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;
				&lt;artifactId&gt;jackson-jaxrs-base&lt;/artifactId&gt;
				&lt;version&gt;${jackson.version}&lt;/version&gt;
			&lt;/dependency&gt;
			&lt;dependency&gt;
				&lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;
				&lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;
				&lt;version&gt;${jackson.version}&lt;/version&gt;
			&lt;/dependency&gt;
			&lt;dependency&gt;
				&lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;
				&lt;artifactId&gt;jackson-module-parameter-names&lt;/artifactId&gt;
				&lt;version&gt;${jackson.version}&lt;/version&gt;
			&lt;/dependency&gt;
		&lt;/dependencies&gt;
	&lt;/dependencyManagement&gt;
&lt;/project&gt;
</code></pre>
<ol start="7">
<li>å¦‚æœç”¨åˆ°JTAä¹Ÿè¦åšå…¼å®¹ï¼Œå…·ä½“å‚è€ƒå®˜æ–¹æ–‡æ¡£</li>
</ol>
<br/>
å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š
[How to use Java 6](https://docs.spring.io/spring-boot/docs/1.5.x/reference/htmlsingle/#howto-use-java-6)]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[antd Selectç»„ä»¶åœ¨IE11ä¸‹é—ªçƒé—®é¢˜è§£å†³]]></title>
        <id>https://gonlua.github.io/post/antd-select-zu-jian-zai-ie11-xia-shan-shuo-wen-ti-jie-jue/</id>
        <link href="https://gonlua.github.io/post/antd-select-zu-jian-zai-ie11-xia-shan-shuo-wen-ti-jie-jue/">
        </link>
        <updated>2020-07-09T06:44:16.000Z</updated>
        <content type="html"><![CDATA[<p>antdç‰ˆæœ¬ï¼š4.3.0<br>
æ·»åŠ å¦‚ä¸‹css</p>
<pre><code class="language-css">@Keyframes slAntSlideUpIn {
0% {
transform: scaleY(0.8);
transform-origin: 0% 0%;
opacity: 0;
}
110% {
transform: scaleY(1);
transform-origin: 0% 0%;
opacity: 1;
}
}
.slide-up-enter.slide-up-enter-active,
.slide-up-appear.slide-up-appear-active {
animation-name: slAntSlideUpIn;
animation-play-state: running;
}

@Keyframes slAntSlideDownIn {
0% {
transform: scaleY(0.8);
transform-origin: 100% 100%;
opacity: 0;
}
110% {
transform: scaleY(1);
transform-origin: 100% 100%;
opacity: 1;
}
}

.slide-down-enter.slide-down-enter-active,
.slide-down-appear.slide-down-appear-active {
animation-name: slAntSlideDownIn;
animation-play-state: running;
}

.ant-select-dropdown.slide-up-enter.slide-up-enter-active.ant-select-dropdown-placement-bottomLeft,
.ant-select-dropdown.slide-up-appear.slide-up-appear-active.ant-select-dropdown-placement-bottomLeft {
animation-name: slAntSlideUpIn;
}
</code></pre>
<p>Githubä¸Šæœ‰äººæå‡ºäº†è¿™ä¸ªbugï¼Œç»“æœåŠå¹´éƒ½æ²¡fixğŸ˜<br>
<br/></p>
<p>å‚è€ƒé“¾æ¥ï¼š<br>
<a href="">https://github.com/ant-design/ant-design/issues/21039</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[create-react-app + Ant Designå…¼å®¹IE11]]></title>
        <id>https://gonlua.github.io/post/create-react-app-ant-design-jian-rong-ie11/</id>
        <link href="https://gonlua.github.io/post/create-react-app-ant-design-jian-rong-ie11/">
        </link>
        <updated>2020-07-09T06:33:21.000Z</updated>
        <content type="html"><![CDATA[<ol>
<li>å®‰è£…react-app-polyfill (æˆ‘å®‰è£…create-react-appåé»˜è®¤å°±è£…äº†)</li>
<li>åœ¨index.jsæœ€æœ€ä¸Šæ–¹æ·»åŠ </li>
</ol>
<pre><code class="language-js">import &quot;react-app-polyfill/ie11&quot;;
import &quot;react-app-polyfill/stable&quot;;
</code></pre>
<ol start="3">
<li>åœ¨package.jsonä¸­çš„browserslistä¸­æ·»åŠ ie 11:</li>
</ol>
<pre><code class="language-json">&quot;browserslist&quot;: {
    &quot;production&quot;: [
      &quot;&gt;0.2%&quot;,
      &quot;not dead&quot;,
      &quot;not op_mini all&quot;,
      &quot;ie 11&quot;
    ],
    &quot;development&quot;: [
      &quot;last 1 chrome version&quot;,
      &quot;last 1 firefox version&quot;,
      &quot;last 1 safari version&quot;,
      &quot;ie 11&quot;
    ]
  }
</code></pre>
<ol start="4">
<li>é…ç½®å¥½åï¼ŒAnt Designä¹Ÿæ”¯æŒäº†</li>
</ol>
<p>å‚è€ƒæ–‡ç« ï¼š<br>
<a href="https://segmentfault.com/a/1190000021480321">create-react-appå…¼å®¹ie11é…ç½®</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Reactåº”ç”¨å‘å¸ƒéƒ¨ç½²åˆ°ApacheæœåŠ¡å™¨]]></title>
        <id>https://gonlua.github.io/post/react-ying-yong-fa-bu-bu-shu-dao-apache-fu-wu-qi/</id>
        <link href="https://gonlua.github.io/post/react-ying-yong-fa-bu-bu-shu-dao-apache-fu-wu-qi/">
        </link>
        <updated>2020-07-09T05:45:25.000Z</updated>
        <content type="html"><![CDATA[<p>Apacheç‰ˆæœ¬ï¼š2.2.3<br>
Reactç‰ˆæœ¬ï¼š16.13.1</p>
<h1 id="apacheéƒ¨åˆ†">Apacheéƒ¨åˆ†</h1>
<h2 id="1-é…ç½®å…è®¸åœ°å€é‡å†™">1. é…ç½®å…è®¸åœ°å€é‡å†™</h2>
<p>å¯¹äºä½¿ç”¨äº†Routerçš„å•é¡µé¢Reactåº”ç”¨ï¼Œæµè§ˆå™¨èŒƒå›´çš„åœ°å€æ˜¯è™šæ‹Ÿçš„ï¼Œæ²¡æœ‰å¯¹åº”çš„èµ„æºï¼Œæ‰€ä»¥éœ€è¦å°†è®¿é—®åœ°å€éƒ½é‡å†™ä¸ºindex.html</p>
<ol>
<li>æ‰“å¼€Apacheé…ç½®æ–‡ä»¶httpd.conf</li>
<li>æ·»åŠ é…ç½®ï¼Œå…è®¸è·¯å¾„è¢«é‡å†™</li>
</ol>
<pre><code>&lt;Directory /htdocs/XXX&gt;
Options all
AllowOverride all
Order allow,deny
allow from all
&lt;/Directory&gt;
</code></pre>
<ol start="3">
<li>é‡å¯Apache<br>
<br/></li>
</ol>
<h2 id="2-é…ç½®åœ°å€é‡å†™è§„åˆ™">2. é…ç½®åœ°å€é‡å†™è§„åˆ™</h2>
<p>åœ¨Reacté¡¹ç›®çš„publicç›®å½•ä¸‹æ·»åŠ .htaccessæ–‡ä»¶ï¼ˆæ‰“åŒ…åä¼šåœ¨ç½‘ç«™çš„æ ¹ç›®å½•ï¼‰<br>
æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p>
<pre><code>RewriteEngine On
RewriteCond %{REQUEST_URI} !^index\.html$
RewriteCond %{REQUEST_URI} !\.(css|gif|ico|jpg|js|png|swf|txt|svg|woff|ttf|eot)&amp;
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . index.html [L]
</code></pre>
<p>å…·ä½“çš„è¯­æ³•å‚è€ƒï¼š</p>
<blockquote>
<p><a href="https://www.jianshu.com/p/9f9c0284b964">Apache Rewrite åˆå­¦è®°å½•</a></p>
</blockquote>
<br/>
<h1 id="reactéƒ¨åˆ†">Reactéƒ¨åˆ†</h1>
<h2 id="1-é…ç½®äºŒçº§ç›®å½•">1. é…ç½®äºŒçº§ç›®å½•</h2>
<p>åº”ç”¨æœåŠ¡å™¨é‡Œä¸€èˆ¬ä¸åªæœ‰ä¸€ä¸ªåº”ç”¨ï¼Œä¸€èˆ¬æ¯ä¸ªåº”ç”¨éƒ½ä¼šæ”¾åœ¨ä¸€ä¸ªäºŒçº§ç›®å½•é‡Œï¼Œå¦‚htdocs/XXXï¼ŒReacté‡Œè¦åšç›¸åº”çš„é…ç½®</p>
<ol>
<li>åœ¨package.jsoné‡Œæ·»åŠ &quot;homepage&quot;:&quot;/XXX&quot; ï¼Œè¿™ä¸ªæ˜¯æŒ‡å®šèµ„æºçš„è®¿é—®è·¯å¾„ï¼Œå³<code>%PUBLIC_URL%</code><br>
ç„¶ååœ¨index.htmlçš„headé‡Œçš„æœ€ä¸Šæ–¹æ·»åŠ <code>&lt;base href=&quot;%PUBLIC_URL%/&quot;&gt;</code>ï¼Œç»Ÿä¸€æ·»åŠ å‰ç¼€ã€‚</li>
<li>ç»™Routeræ·»åŠ basenameå±æ€§ï¼Œå¯ä»¥æ ¹æ®ç¯å¢ƒå†³å®šæ˜¯å¦æ·»åŠ </li>
</ol>
<pre><code class="language-jsx">const isProd = process.env.NODE_ENV === 'production'
&lt;Router basename={isProd?'/XXX':'/'}&gt;
&lt;/Router&gt;
</code></pre>
<h2 id="2-å‘å¸ƒ">2. å‘å¸ƒ</h2>
<p>è¿è¡Œbuildå‘½ä»¤ï¼Œç„¶åå°†buildç›®å½•ä¸‹çš„æ–‡ä»¶æ‹·è´åˆ°htdocs/XXXä¸‹å°±å¯ä»¥äº†<br>
<br/></p>
<p>å‚è€ƒæ–‡ç« ï¼š</p>
<blockquote>
<p><a href="https://skryvets.com/blog/2018/09/20/an-elegant-solution-of-deploying-react-app-into-a-subdirectory/">An elegant solution of deploying React app into a subdirectory</a></p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[SpringBootè§£å†³è·¨åŸŸé—®é¢˜/è·¨åŸŸä¸æ‹¦æˆªå™¨å†²çªé—®é¢˜]]></title>
        <id>https://gonlua.github.io/post/springboot-jie-jue-kua-yu-wen-ti-kua-yu-yu-lan-jie-qi-chong-tu-wen-ti/</id>
        <link href="https://gonlua.github.io/post/springboot-jie-jue-kua-yu-wen-ti-kua-yu-yu-lan-jie-qi-chong-tu-wen-ti/">
        </link>
        <updated>2020-07-09T05:20:21.000Z</updated>
        <content type="html"><![CDATA[<p>è·¨åŸŸé—®é¢˜å¯ä»¥ä»å‰ç«¯æˆ–è€…åç«¯è§£å†³ï¼Œè¿™é‡Œæ˜¯åç«¯SpringBootçš„è§£å†³æ–¹æ³•ï¼š</p>
<p>æ–¹æ³•ä¸€ï¼š<br>
åœ¨Springé…ç½®é‡Œæ·»åŠ CorsMappingï¼Œå…è®¸è·¨åŸŸï¼š</p>
<pre><code class="language-java">@Configuration
public class InterceptorConfig extends WebMvcConfigurationSupport {

    @Override
	protected void addCorsMappings(CorsRegistry registry) {
            registry.addMapping(&quot;/**&quot;)
            .allowedOrigins(&quot;*&quot;) //å…è®¸æ¥æºåŸŸå
            .allowCredentials(true)
            .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;DELETE&quot;, &quot;PUT&quot;,&quot;PATCH&quot;)
            .allowedHeaders(&quot;*&quot;);
	}
	
}
</code></pre>
<br/>
<p>ä½†æ˜¯è¿™æ ·æ·»åŠ çš„Mappingæ˜¯åœ¨æ‹¦æˆªå™¨ä¹‹åæ‰§è¡Œçš„ï¼Œæ‰€ä»¥åƒç™»é™†éªŒè¯è¿™æ ·çš„æ‹¦æˆªå™¨ä¸é€šè¿‡æ—¶ï¼Œç›´æ¥è¿”å›ç»“æœå°±è¿˜æ˜¯ä¼šæœ‰è·¨åŸŸé—®é¢˜ï¼Œæ‰€ä»¥è¦ä½¿ç”¨å¦ä¸€ä¸ªæ–¹æ³•ï¼Œæ·»åŠ CorsFilterï¼Œå› ä¸ºFilteræ˜¯åœ¨æ‹¦æˆªå™¨ä¹‹å‰æ‰§è¡Œçš„ï¼Œæ‰€ä»¥æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼š</p>
<p>æ–¹æ³•äºŒï¼š</p>
<pre><code class="language-Java">@Configuration
public class CorsFilterConfig {

    @Bean
    public CorsFilter corsFilter() {
        CorsConfiguration config = new CorsConfiguration();
        config.addAllowedOrigin(&quot;*&quot;);
        config.setAllowCredentials(true);
        config.addAllowedMethod(&quot;*&quot;);
        config.addAllowedHeader(&quot;*&quot;);
        UrlBasedCorsConfigurationSource configSource = new UrlBasedCorsConfigurationSource();
        configSource.registerCorsConfiguration(&quot;/**&quot;, config);
        return new CorsFilter(configSource);
    }
}
</code></pre>
]]></content>
    </entry>
</feed>